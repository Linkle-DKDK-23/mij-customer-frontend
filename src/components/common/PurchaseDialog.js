import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { Dialog, DialogContent, DialogOverlay, DialogTitle, DialogDescription } from '@/components/ui/dialog';
import { Button } from '@/components/ui/button';
import { CreditCard, Lock } from 'lucide-react';
import { formatPrice } from '@/lib/utils';
export default function PurchaseDialog({ isOpen, onClose, post, onPurchase }) {
    return (_jsxs(Dialog, { open: isOpen, onOpenChange: onClose, children: [_jsx(DialogOverlay, { className: "bg-black/30 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0" }), _jsxs(DialogContent, { className: "fixed bottom-0 left-0 right-0 top-auto translate-y-0 translate-x-0 max-w-none w-full h-auto max-h-[80vh] rounded-t-2xl border-0 bg-white p-0 shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom duration-300", children: [_jsx(DialogTitle, { className: "sr-only", children: "\u8CFC\u5165\u78BA\u8A8D" }), _jsx(DialogDescription, { className: "sr-only", children: "\u30B3\u30F3\u30C6\u30F3\u30C4\u306E\u8CFC\u5165\u3092\u78BA\u8A8D\u3057\u3001\u652F\u6255\u3044\u65B9\u6CD5\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044" }), _jsxs("div", { className: "flex flex-col", children: [_jsxs("div", { className: "flex items-center justify-between p-4 border-b border-gray-200", children: [_jsx("h2", { className: "text-lg font-semibold text-gray-900", children: "\u8CFC\u5165\u78BA\u8A8D" }), _jsx(Button, { variant: "ghost", size: "sm", onClick: onClose, className: "p-1 h-auto w-auto" })] }), _jsxs("div", { className: "p-4 space-y-4", children: [_jsxs("div", { className: "flex space-x-3", children: [_jsx("div", { className: "w-16 h-16 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0", children: _jsx("img", { src: post.thumbnail, alt: post.title, className: "w-full h-full object-cover" }) }), _jsxs("div", { className: "flex-1 min-w-0", children: [_jsx("h3", { className: "font-medium text-gray-900 truncate", children: post.title }), _jsxs("p", { className: "text-sm text-gray-600 truncate", children: ["@", post.creator.slug] }), _jsxs("p", { className: "text-sm text-gray-500", children: ["\u672C\u7DE8 ", post.main_video_duration] })] })] }), _jsx("div", { className: "bg-gray-50 rounded-lg p-4", children: _jsxs("div", { className: "flex items-center justify-between", children: [post.single !== null && (_jsxs(_Fragment, { children: [_jsx("span", { className: "text-sm text-gray-600", children: "\u5358\u54C1\u8CFC\u5165\u4FA1\u683C" }), _jsxs("span", { className: "text-lg font-bold text-gray-900", children: ["\u00A5", formatPrice(post.single.amount)] })] })), post.subscription !== null && (_jsxs(_Fragment, { children: [_jsx("span", { className: "text-sm text-gray-600", children: "\u30D7\u30E9\u30F3\u4FA1\u683C" }), _jsxs("span", { className: "text-lg font-bold text-gray-900", children: ["\u00A5", formatPrice(post.subscription.amount)] })] }))] }) }), _jsx("div", { className: "bg-blue-50 rounded-lg p-3", children: _jsxs("div", { className: "flex items-start space-x-2", children: [_jsx(Lock, { className: "h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0" }), _jsxs("div", { className: "text-sm text-blue-800", children: [_jsx("p", { className: "font-medium", children: "\u8CFC\u5165\u5F8C\u306E\u6CE8\u610F\u4E8B\u9805" }), _jsxs("ul", { className: "mt-1 space-y-1 text-xs", children: [_jsx("li", { children: "\u2022 \u8CFC\u5165\u5F8C\u306F\u7121\u671F\u9650\u3067\u8996\u8074\u53EF\u80FD\u3067\u3059" }), _jsx("li", { children: "\u2022 \u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u306F\u3067\u304D\u307E\u305B\u3093" }), _jsx("li", { children: "\u2022 \u8FD4\u91D1\u306F\u3067\u304D\u307E\u305B\u3093" })] })] })] }) }), _jsxs("div", { className: "space-y-2", children: [post.single !== null && (_jsxs(Button, { onClick: () => onPurchase('single'), className: "w-full bg-primary text-white font-bold py-3 rounded-lg flex items-center justify-center space-x-2", children: [_jsx(CreditCard, { className: "h-5 w-5" }), _jsxs("span", { children: ["\u00A5", formatPrice(post.single.amount), "\u3067\u8CFC\u5165\u3059\u308B"] })] })), post.subscription !== null && (_jsxs(Button, { onClick: () => onPurchase('subscription'), className: "w-full bg-primary text-white font-bold py-3 rounded-lg flex items-center justify-center space-x-2", children: [_jsx(CreditCard, { className: "h-5 w-5" }), _jsxs("span", { children: ["\u30D7\u30E9\u30F3\u00A5", formatPrice(post.subscription.amount), "\u306B\u52A0\u5165\u3057\u3066\u8996\u8074\u3059\u308B"] })] })), _jsx(Button, { variant: "outline", onClick: onClose, className: "w-full py-3 rounded-lg", children: "\u30AD\u30E3\u30F3\u30BB\u30EB" })] })] })] })] })] }));
}
